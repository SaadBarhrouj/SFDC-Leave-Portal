<template>
    <lightning-card title="Leave Policy Settings" icon-name="utility:setup">
        <div slot="actions">
            <template if:false={isEditMode}>
                <lightning-button
                    label="Edit"
                    icon-name="utility:edit"
                    onclick={handleEdit}>
                </lightning-button>
            </template>
            <template if:true={isEditMode}>
                <lightning-button
                    label="Cancel"
                    onclick={handleCancel}>
                </lightning-button>
                <lightning-button
                    label="Save Changes"
                    variant="brand"
                    onclick={handleSave}
                    disabled={isLoading}
                    class="slds-m-left_x-small">
                </lightning-button>
            </template>
        </div>

        <div class="slds-p-around_medium">
            <template if:true={isLoading}>
                <div class="spinner-overlay">
                    <lightning-spinner alternative-text="Loading..." variant="brand"></lightning-spinner>
                </div>
            </template>

            <template if:false={isLoading}>
                <p class="slds-text-body_small slds-m-bottom_medium">
                    Manage the global settings for employee leave policies. These values affect all users.
                </p>
                          
                <div class="slds-grid slds-gutters slds-m-top_medium">
                    <div class="slds-col">
                        <lightning-input
                            type="number"
                            name="Annual_Paid_Leave_Days__c"
                            label="Annual Paid Leave Days"
                            value={settings.Annual_Paid_Leave_Days__c}
                            onchange={handleInputChange}
                            disabled={isReadOnly}
                        >
                        </lightning-input>
                        <div class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">
                            Number of paid leave days allocated to employees annually.
                        </div>
                    </div>
                    <div class="slds-col">
                        <lightning-input
                            type="number"
                            name="Annual_RTT_Days__c"
                            label="Annual RTT Days"
                            value={settings.Annual_RTT_Days__c}
                            onchange={handleInputChange}
                            disabled={isReadOnly}>
                        </lightning-input>
                        <div class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">
                            Number of RTT days allocated to employees annually.
                        </div>
                    </div>
                    <div class="slds-col">
                        <lightning-input
                            type="number"
                            name="Minimum_Notice_Period_Days__c"
                            label="Minimum Notice Period Days"
                            value={settings.Minimum_Notice_Period_Days__c}
                            onchange={handleInputChange}
                            disabled={isReadOnly}>
                        </lightning-input>
                        <div class="slds-text-body_small slds-text-color_weak slds-m-top_x-small">
                            Number of days in advance that leave requests must be submitted.
                        </div>
                    </div>
                </div>
            </template>
        </div>
    </lightning-card>
</template>